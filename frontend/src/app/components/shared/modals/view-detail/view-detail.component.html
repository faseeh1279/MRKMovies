<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <!-- Background Overlay -->
    <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true" (click)="changeModalState()">

    <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
            <div class="relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-5xl w-[900px]"
                style="background-color: #020F24;" (click)="$event.stopPropagation()">
                <!-- Prevents click from triggering outside -->
                <div class="max-w-full mx-auto">
                    <div class="px-8 pt-6 pb-5 sm:p-10 sm:pb-6" style="background-color: #020F24;">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <!-- Movie Poster & Ratings -->
                            <div class="col-span-1 flex flex-col items-center">
                                <img class="w-full h-auto rounded-lg shadow-lg mb-5" 
                                    [src]="movieData().poster" alt="Movie Poster">

                                <!-- Movie Ratings -->
                                <div class="flex justify-center items-center space-x-2">
                                    <!-- Loop to display filled stars -->
                                    <svg *ngFor="let star of [].constructor(movieReview?.rating || 0)" 
                                        class="w-6 h-6 text-yellow-300" fill="currentColor" viewBox="0 0 22 20">
                                        <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                    </svg>
                                    
                                    <!-- Loop to display empty stars -->
                                    <svg *ngFor="let star of [].constructor(5 - (movieReview?.rating || 0))" 
                                        class="w-6 h-6 text-gray-300 dark:text-gray-500" fill="currentColor" viewBox="0 0 22 20">
                                        <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                    </svg>
                                    
                                    <!-- Show numeric rating -->
                                    <p class="text-center text-lg font-semibold text-white">{{ movieReview?.rating }}/5</p>
                                </div>
                            </div>

                            <!-- Movie Info -->
                            <div class="col-span-2 text-white">
                                <h1 class="text-4xl font-bold mb-4">{{ movieData().title }}</h1>
                                <h2 class="text-2xl font-semibold mb-2">Description</h2>
                                <p class="text-lg mb-4">{{ movieData().description }}</p>

                                <!-- Actors & Directors -->
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <h2 class="text-xl font-semibold mb-1">Actors</h2>
                                        <ul class="list-disc list-inside">
                                            <li *ngFor="let actor of movieData().actors">{{ actor.name }}</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h2 class="text-xl font-semibold mb-1">Directors</h2>
                                        <ul class="list-disc list-inside">
                                            <li *ngFor="let director of movieData().directors">{{ director.name }}</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Release Date -->
                                <div class="flex items-center gap-2 mt-4 text-lg">
                                    <p class="font-semibold">Release Date:</p>
                                    <p>{{ movieData().release_date | date }}</p>
                                </div>
                            </div>
                        </div> <!-- Closing for grid-cols-3 -->
                    </div>

                    <!-- Modal Footer -->
                    <div class="px-8 py-4 sm:flex sm:flex-row-reverse sm:px-10" style="background-color: #020F24;">
                        <button type="button"
                            class="cursor-pointer inline-flex w-full justify-center rounded-md bg-red-600 px-5 py-3 text-lg font-semibold text-white shadow-xs hover:bg-red-700 sm:ml-3 sm:w-auto"
                            (click)="changeModalState()">Close</button>
                    </div>
                </div> <!-- Closing for max-w-full mx-auto -->
            </div> <!-- Closing for modal container -->
        </div>
    </div>
</div>
</div>
